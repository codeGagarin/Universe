{% extends "base.html" %}
{% block title %}{{ rpt.get_caption() }}{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <h1>{{ rpt.get_caption() }}</h1>

<nav aria-label="Page navigation">
  <ul class="pagination">
    {% for cap, params in rpt.get_navigate().items() %}
    <li><a href="{{ url_for('report', **params) }}">{{ "%s"|format(cap) }}</a></li>
    {% endfor %}
  </ul>
</nav>

        <table class="table">
            <thead>
                <tr>
                    {% for c in rpt.get_data()['header'] %}
                    <th>
                    {{ c }}
                    </th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in rpt.get_data()['body'] %}
                <tr class=
                {% if row[2] == 'warning' %} "warning"
                {% elif row[2] == 'finish' %} "success"
                {% elif row[2] == 'fail' %} "danger"
                {% else %} ""
                {% endif %}
                >

                <td align="right">{{ row[0] }}</td>
                <td>{{ row[1] }}</td>
                <td align="center">{{ row[2] }}</td>
                <td align="center">{{ ("%s"|format(row[3]))[11: 19] }}</td>
                <td align="center">{{ ("%s"|format(row[4]))[11: 19] }}</td>
                <td align="right">{{ row[5] }}</td>
                <td>{{ (row[6] if row[6] else "")|escape()|truncate(40, True) }}</td>
                <td>{{ (row[7] if row[7] else "")|escape()|truncate(50, True) }}</td></tr>
                {% endfor %}
            </tbody>
        </table>
{% endblock %}
{% extends "base.html" %}
{% import 'macro.html' as lib %}
{% set caption = ("Diagnostic report on %s")|format(rpt._P().from) %}
{% block title %}{{ caption }}{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <h1>{{caption}}</h1>

<nav aria-label="Page navigation">
  <ul class="pagination">
    {% for cap, params in rpt._N().items() %}
      <li><a href="{{ rpt.url_for('report', params) }}">{{ cap }}</a></li>
    {% endfor %}
  </ul>
</nav>

<table class="table">
    <thead>
        <tr>
            {% for c in rpt._D().header %}
            <th>{{ c }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for row in rpt._D().body %}
        <tr class=
        {% if row[2] == 'warning' %} "warning"
        {% elif row[2] == 'finish' %} "success"
        {% elif row[2] == 'fail' %} "danger"
        {% else %} ""
        {% endif %}
        >

        <td align="right">{{ row[0] }}</td>
        <td>{{ row[1] }}</td>
        <td align="center">{{ row[2] }}</td>
        <td align="center">{{ ("%s"|format(row[3]))[11: 19] }}</td>
        <td align="center">{{ ("%s"|format(row[4]))[11: 19] }}</td>
        <td align="right">{{ row[5] }}</td>
        <td title="{{row[6]}}">{{ (row[6] if row[6] else "")|escape()|truncate(40, True) }}</td>
        <td title="{{row[7]}}">{{ (row[7] if row[7] else "")|escape()|truncate(50, True) }}</td></tr>
        {% endfor %}
    </tbody>
</table>
{{ lib.profile_stat(rpt, stat) }}
{% endblock %}